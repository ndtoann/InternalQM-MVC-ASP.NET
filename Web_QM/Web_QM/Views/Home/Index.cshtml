@{
    ViewData["Title"] = "Quang Minh";
}

<head>
    <link rel="stylesheet" href="~/css/home.css" asp-append-version="true" />
</head>

<div class="main-content-wrapper">
    <div class="container-fluid p-0">
        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="~/imgs/slide-1.jpg" class="d-block w-100" alt="Hình ảnh 1">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Quang Minh</h5>
                        <p>...</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="~/imgs/slide-2.jpg" class="d-block w-100" alt="Hình ảnh 2">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Quang Minh</h5>
                        <p>...</p>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
    <h3 class="text-center fs-4 fw-bold py-3">CÔNG TY TNHH SẢN XUẤT THƯƠNG MẠI QUANG MINH</h3>
    <div class="row p-lg-3 home-content py-5">
        <div class="col-lg-4" data-aos="zoom-in">
            <a href="/testingsystem">
                <h5 class="title">Hệ thống kiểm tra</h5>
                <img src="~/imgs/bg-2.jpg" class="bg-content" />
            </a>
        </div>
        <div class="col-lg-4" data-aos="zoom-in">
            <a href="/dataemployee">
                <h5 class="title">Dữ liệu nhân viên</h5>
                <img src="~/imgs/bg-1.jpg" class="bg-content" />
            </a>
        </div>
        <div class="col-lg-4" data-aos="zoom-in">
            <a href="/dataerror">
                <h5 class="title">Thống kê lỗi</h5>
                <img src="~/imgs/bg-3.jpeg" class="bg-content" />
            </a>
        </div>
    </div>

    <div class="machine-intro-section" data-aos="zoom-in">
        <div class="container">
            <h1>Công Nghệ Chính Xác Tối Tân</h1>
            <p>Hệ thống máy móc thế hệ mới, đáp ứng mọi yêu cầu gia công từ đơn giản đến phức tạp nhất.</p>
            <a href="/machine" class="cta-button">Xem Danh Sách Máy Móc</a>
        </div>
    </div>

    <div class="quote-container" data-aos="fade-up">
        <p class="quote-text">
            "Chúng tôi không chỉ gia công chi tiết, chúng tôi gia công niềm tin. Chất lượng sản phẩm luôn là ưu tiên hàng đầu."
        </p>
        <p class="quote-author">
            — Phương châm làm việc
        </p>
    </div>
    <div class="container">
        <h2>Một số chi tiết được gia công tại Quang Minh</h2>
        <div class="swiper mySwiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <img src="/imgs/Products/ct1.png" alt="Chi tiết">
                    <div class="product-info">
                        <h5>Chi tiết 1</h5>
                        <p>Độ tinh xảo, hoàn hảo mọi mặt</p>
                    </div>
                </div>
                <div class="swiper-slide">
                    <img src="/imgs/Products/ct2.png" alt="Chi tiết">
                    <div class="product-info">
                        <h5>Chi tiết 2</h5>
                        <p>Độ tinh xảo, hoàn hảo mọi mặt</p>
                    </div>
                </div>
                <div class="swiper-slide">
                    <img src="/imgs/Products/ct3.png" alt="Chi tiết">
                    <div class="product-info">
                        <h5>Chi tiết 3</h5>
                        <p>Độ tinh xảo, hoàn hảo mọi mặt</p>
                    </div>
                </div>
                <div class="swiper-slide">
                    <img src="/imgs/Products/ct4.png" alt="Chi tiết">
                    <div class="product-info">
                        <h5>Chi tiết 4</h5>
                        <p>Độ tinh xảo, hoàn hảo mọi mặt</p>
                    </div>
                </div>
                <div class="swiper-slide">
                    <img src="/imgs/Products/ct5.png" alt="Chi tiết">
                    <div class="product-info">
                        <h5>Chi tiết 5</h5>
                        <p>Độ tinh xảo, hoàn hảo mọi mặt</p>
                    </div>
                </div>
                <div class="swiper-slide">
                    <img src="/imgs/Products/ct6.png" alt="Chi tiết">
                    <div class="product-info">
                        <h5>Chi tiết 6</h5>
                        <p>Độ tinh xảo, hoàn hảo mọi mặt</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<button id="chat-toggle-button">
    💬
</button>

<div id="chat-box">
    <div id="chat-header">
        <span id="chat-title">Hỗ trợ</span>
        <span id="chat-close-button">&times;</span>
    </div>
    <div id="chat-content">
        <div class="message bot-message">
            <p>
                Chào bạn, tôi có thể giúp gì cho bạn?
            </p>
        </div>
    </div>
    <div id="chat-input-container">
        <input type="text" id="user-input" placeholder="Nhập tin nhắn..." />
        <button id="send-button">Gửi</button>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const chatToggleButton = document.getElementById('chat-toggle-button');
        const chatBox = document.getElementById('chat-box');
        const chatCloseButton = document.getElementById('chat-close-button');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');
        const chatContent = document.getElementById('chat-content');

        function removeVietnameseMarks(str) {
            str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, "a");
            str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, "e");
            str = str.replace(/ì|í|ị|ỉ|ĩ/g, "i");
            str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, "o");
            str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, "u");
            str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, "y");
            str = str.replace(/đ/g, "d");
            str = str.replace(/\s/g, "");
            return str;
        }

        const responses = {
            'xinchao': 'Chào bạn :)',
            'hello': 'Chào bạn :)',
            'quangminh': 'Công ty QUANG MINH là đơn vị hoạt động trong lĩnh vực Gia công cơ khí chính xác; Lắp đặt, bảo trì bảo dưỡng.',
            'thoigian': 'Thời gian làm việc từ 7h30p sáng đến 5h chiều, từ thứ Hai đến thứ Bảy.',
            'lienhe': 'Mọi thắc mắc vui lòng liên hệ phòng IT công ty Quang Minh.',
            'gioithieu': 'Đây là phần mềm quản lý dữ liệu nhân viên, đào tạo, các thống kê lỗi, làm bài kiểm tra...',
            'macdinh': 'Xin lỗi, tôi chưa hiểu yêu cầu của bạn. Xin vui lòng liên hệ trực tiếp phòng IT.',
            'loi': 'Bạn phát hiện lỗi hay sự cố nào đó, vui lòng liên hệ phòng IT.',
            'suco': 'Bạn phát hiện lỗi hay sự cố nào đó, vui lòng liên hệ phòng IT.'
        };

        function appendMessage(text, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            const p = document.createElement('p');
            p.textContent = text;
            messageDiv.appendChild(p);
            chatContent.appendChild(messageDiv);
            chatContent.scrollTop = chatContent.scrollHeight;
        }

        function sendMessage() {
            const userText = userInput.value.trim();
            if (userText === '') return;

            appendMessage(userText, 'user-message');

            const normalizedText = removeVietnameseMarks(userText.toLowerCase());
            let botResponse = responses.macdinh;

            setTimeout(() => {
                for (const keyword in responses) {
                    if (normalizedText.includes(keyword)) {
                        botResponse = responses[keyword];
                        break;
                    }
                }
                appendMessage(botResponse, 'bot-message');
            }, 500);

            userInput.value = '';
        }

        chatToggleButton.addEventListener('click', () => {
            chatBox.style.display = 'flex';
            chatToggleButton.style.display = 'none';
        });

        chatCloseButton.addEventListener('click', () => {
            chatBox.style.display = 'none';
            chatToggleButton.style.display = 'block';
        });

        sendButton.addEventListener('click', sendMessage);

        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    });
</script>

@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var swiper = new Swiper(".mySwiper", {
                effect: "coverflow",
                grabCursor: true,
                centeredSlides: true,
                slidesPerView: "auto",
                loop: true,
                autoplay: {
                    delay: 0,
                    disableOnInteraction: false,
                },
                speed: 3000,
                coverflowEffect: {
                    rotate: 20,
                    stretch: 0,
                    depth: 100,
                    modifier: 1,
                    slideShadows: true,
                },
                breakpoints: {
                    320: {
                        slidesPerView: 1.5,
                        spaceBetween: 10,
                    },
                    768: {
                        slidesPerView: 2.5,
                        spaceBetween: 20,
                    },
                    1024: {
                        slidesPerView: 3.5,
                        spaceBetween: 30,
                    },
                }
            });
        });
    </script>
}